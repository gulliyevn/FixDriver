#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµĞ¼ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ¿ĞµÑ€ĞµĞ´ ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚Ğ¾Ğ¼
echo "ğŸ” Running pre-commit checks..."

# TypeScript Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ°
echo "ğŸ“ TypeScript check..."
npm run type-check

# ESLint Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸, Ğ½Ğµ Ğ¿Ñ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ñ)
echo "ğŸ”§ ESLint check..."
npm run lint -- --max-warnings 0

# Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
echo "ğŸ’… Format check..."
npm run format:check

# Ğ¢ĞµÑÑ‚Ñ‹ (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ½Ñ‹Ñ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)
echo "ğŸ§ª Running tests..."
npm run test:ci

echo "âœ… All pre-commit checks passed!"
